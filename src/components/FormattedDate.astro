---
interface Props {
  date: Date;
}

const { date } = Astro.props;
const currentYear = new Date().getFullYear();
const showYear = date.getFullYear() !== currentYear;

const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
const month = months[date.getUTCMonth()];
const day = date.getUTCDate().toString().padStart(2, '0');

---

<time datetime={date.toISOString()}>
  {month} {day}{showYear ? `, ${date.getUTCFullYear()}` : ''}
  <!-- {
    date.toLocaleDateString("en-US", {
      month: "short", 
      day: "2-digit",
      ...(showYear && {year: "numeric"})
    })
  } -->
</time>
